# âœ… Django äº¤é€šè™ŸèªŒè³‡æ–™åº«ç³»çµ±

## ğŸ¯ ç³»çµ±åŠŸèƒ½

âœ… **è³‡æ–™åº« Models**

- Group æ¨¡å‹ï¼šæ‰¹æ¬¡è³‡æ–™ä¸»è¡¨
- Intersection æ¨¡å‹ï¼šè·¯å£æ˜ç´°è¡¨
- åŒ…å«å®Œæ•´çš„æ¬„ä½é©—è­‰å’Œä¸­æ–‡é¡¯ç¤º

âœ… **Django Admin ç®¡ç†ä»‹é¢**

- å®Œæ•´çš„è³‡æ–™ç®¡ç†åŠŸèƒ½
- æ”¯æ´æœå°‹ã€ç¯©é¸ã€åˆ†é 
- å…§åµŒç·¨è¼¯åŠŸèƒ½

âœ… **API ç«¯é»**

- `POST /api/predict/`: æ¥æ”¶è³‡æ–™ä¸¦é æ¸¬
- `GET /api/data/`: æŸ¥è©¢å·²å„²å­˜çš„è³‡æ–™

âœ… **è³‡æ–™é©—è­‰å·¥å…·**

- TrafficDataValidator: è³‡æ–™é©—è­‰åŠŸèƒ½

## ğŸš€ ä½¿ç”¨æ–¹å¼

### 1. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨

```bash
cd "d:\01.Project\traffic\traffic_project\backend\traffic_env\traffic"
D:/01.Project/traffic/traffic_project/backend/traffic_env/Scripts/python.exe manage.py runserver
```

### 2. è¨ªå•ç®¡ç†ä»‹é¢

- ç¶²å€ï¼šhttp://localhost:8000/admin
- éœ€è¦å…ˆå»ºç«‹è¶…ç´šä½¿ç”¨è€…ï¼š

```bash
D:/01.Project/traffic/traffic_project/backend/traffic_env/Scripts/python.exe manage.py createsuperuser
```

### 3. API ç«¯é»

- é æ¸¬ APIï¼š`POST http://localhost:8000/api/predict/`
- æŸ¥è©¢ APIï¼š`GET http://localhost:8000/api/data/`

## ğŸ“Š API ä½¿ç”¨èªªæ˜

### é æ¸¬ API (POST /api/predict/)

**è«‹æ±‚æ ¼å¼ï¼š**

```json
[
	{
		"VD_ID": "VLRJX20",
		"DayOfWeek": 6,
		"Hour": 19,
		"Minute": 41,
		"Second": 2,
		"IsPeakHour": 1,
		"LaneID": 0,
		"LaneType": 1,
		"Speed": 34,
		"Occupancy": 25,
		"Volume_M": 5,
		"Speed_M": 41,
		"Volume_S": 2,
		"Speed_S": 36,
		"Volume_L": 5,
		"Speed_L": 27,
		"Volume_T": 0,
		"Speed_T": 0
	},
	{
		"VD_ID": "VLRJM60",
		"DayOfWeek": 6,
		"Hour": 19,
		"Minute": 41,
		"Second": 2,
		"IsPeakHour": 1,
		"LaneID": 1,
		"LaneType": 1,
		"Speed": 38,
		"Occupancy": 20,
		"Volume_M": 5,
		"Speed_M": 41,
		"Volume_S": 2,
		"Speed_S": 36,
		"Volume_L": 1,
		"Speed_L": 27,
		"Volume_T": 0,
		"Speed_T": 0
	},
	{
		"VD_ID": "VLRJX00",
		"DayOfWeek": 6,
		"Hour": 19,
		"Minute": 41,
		"Second": 2,
		"IsPeakHour": 1,
		"LaneID": 2,
		"LaneType": 1,
		"Speed": 37,
		"Occupancy": 25,
		"Volume_M": 5,
		"Speed_M": 41,
		"Volume_S": 5,
		"Speed_S": 36,
		"Volume_L": 1,
		"Speed_L": 27,
		"Volume_T": 0,
		"Speed_T": 0
	},
	{
		"VD_ID": "VLRJX00",
		"DayOfWeek": 6,
		"Hour": 19,
		"Minute": 41,
		"Second": 2,
		"IsPeakHour": 1,
		"LaneID": 3,
		"LaneType": 1,
		"Speed": 33,
		"Occupancy": 20,
		"Volume_M": 3,
		"Speed_M": 41,
		"Volume_S": 2,
		"Speed_S": 36,
		"Volume_L": 5,
		"Speed_L": 27,
		"Volume_T": 0,
		"Speed_T": 0
	}
]
```

**å›æ‡‰æ ¼å¼ï¼š**

```json
{
	"group_id": "550e8400-e29b-41d4-a716-446655440000",
	"east_west_seconds": 75,
	"south_north_seconds": 65,
	"timestamp": "2025-09-13T12:00:00Z",
	"message": "è³‡æ–™å·²æˆåŠŸå„²å­˜ä¸¦å®Œæˆé æ¸¬"
}
```

### æŸ¥è©¢ API (GET /api/data/)

**æŸ¥è©¢æ‰€æœ‰æ‰¹æ¬¡ï¼š**

```
GET /api/data/?limit=10
```

**æŸ¥è©¢ç‰¹å®šæ‰¹æ¬¡ï¼š**

```
GET /api/data/?group_id=550e8400-e29b-41d4-a716-446655440000
```

## ğŸ“Š è³‡æ–™è¡¨çµæ§‹

### Groupï¼ˆè³‡æ–™çµ„ä¸»è¡¨ï¼‰

| æ¬„ä½åç¨±            | è³‡æ–™å‹æ…‹      | æè¿°                                     |
| ------------------- | ------------- | ---------------------------------------- |
| id                  | BigAutoField  | ä¸»éµï¼Œè‡ªå‹•ç”Ÿæˆçš„å”¯ä¸€è­˜åˆ¥ç¢¼               |
| group_id            | UUIDField     | æ‰¹æ¬¡å”¯ä¸€è­˜åˆ¥ç¢¼ï¼Œä¸€çµ„å››è·¯å£è³‡æ–™æ­¸ç‚ºåŒä¸€æ‰¹ |
| timestamp           | DateTimeField | è³‡æ–™æ¥æ”¶æˆ–é æ¸¬æ™‚é–“                       |
| east_west_seconds   | IntegerField  | æ¨¡å‹é æ¸¬çš„æ±è¥¿å‘æœ€å¤§ç¶ ç‡ˆç§’æ•¸             |
| south_north_seconds | IntegerField  | æ¨¡å‹é æ¸¬çš„å—åŒ—å‘æœ€å¤§ç¶ ç‡ˆç§’æ•¸             |

### Intersectionï¼ˆè·¯å£æ˜ç´°è¡¨ï¼‰

| æ¬„ä½åç¨±   | è³‡æ–™å‹æ…‹      | æè¿°                         |
| ---------- | ------------- | ---------------------------- |
| id         | BigAutoField  | ä¸»éµï¼Œè‡ªå‹•ç”Ÿæˆ               |
| group      | ForeignKey    | é—œè¯åˆ° Group è¡¨çš„ group_id   |
| VD_ID      | CharField     | è·¯å£åµæ¸¬å™¨ IDï¼ˆæœ‰é¸æ“‡é™åˆ¶ï¼‰  |
| DayOfWeek  | IntegerField  | æ˜ŸæœŸ (1=æ˜ŸæœŸä¸€ ... 7=æ˜ŸæœŸæ—¥) |
| Hour       | IntegerField  | æ™‚ (0-23)                    |
| Minute     | IntegerField  | åˆ† (0-59)                    |
| Second     | IntegerField  | ç§’ (0-59)                    |
| IsPeakHour | BooleanField  | æ˜¯å¦å°–å³°æ™‚æ®µ                 |
| LaneID     | IntegerField  | è»Šé“ç·¨è™Ÿ                     |
| LaneType   | IntegerField  | è»Šé“é¡å‹                     |
| Speed      | FloatField    | å¹³å‡é€Ÿç‡                     |
| Occupancy  | FloatField    | è»Šé“ä½”æœ‰ç‡                   |
| Volume_M   | IntegerField  | ä¸­å‹è»Šæµé‡                   |
| Speed_M    | FloatField    | ä¸­å‹è»Šé€Ÿç‡                   |
| Volume_S   | IntegerField  | å°å‹è»Šæµé‡                   |
| Speed_S    | FloatField    | å°å‹è»Šé€Ÿç‡                   |
| Volume_L   | IntegerField  | å¤§å‹è»Šæµé‡                   |
| Speed_L    | FloatField    | å¤§å‹è»Šé€Ÿç‡                   |
| Volume_T   | IntegerField  | ç‰¹ç¨®è»Šæµé‡ï¼ˆé è¨­ 0ï¼‰         |
| Speed_T    | FloatField    | ç‰¹ç¨®è»Šé€Ÿç‡ï¼ˆé è¨­ 0.0ï¼‰       |
| created_at | DateTimeField | å»ºç«‹æ™‚é–“                     |

## ğŸ”§ VD_ID èªªæ˜

è·¯å£åµæ¸¬å™¨ IDï¼Œåªæœ‰ä¸‰æ”¯ï¼š

- **VLRJX20**: å¾€æ±
- **VLRJM60**: å¾€è¥¿
- **VLRJX00**: å¾€å—ã€å¾€åŒ—

## ğŸ” è³‡æ–™åº«æª”æ¡ˆä½ç½®

SQLite è³‡æ–™åº«æª”æ¡ˆï¼š`d:\01.Project\traffic\traffic_project\backend\traffic_env\traffic\db.sqlite3`

---

**âœ¨ ç³»çµ±å·²å®Œæˆï¼Œå¯ä»¥èˆ‡å‰ç«¯é€²è¡Œè³‡æ–™ä¸²æ¥ï¼**

---

# æä¾›å‰ç«¯å‚³é€çš„å››å€‹è·¯å£è³‡æ–™æ ¼å¼

VD_ID: è·¯å£åµæ¸¬å™¨ IDï¼Œåªæœ‰ä¸‰æ”¯

- VLRJX20 ç‚ºå¾€æ±
- VLRJM60 ç‚ºå¾€è¥¿
- VLRJX00 ç‚ºå¾€å—ã€å¾€åŒ—

```json
[
	{
		"VD_ID": "VLRJX20",
		"DayOfWeek": 6,
		"Hour": 19,
		"Minute": 41,
		"Second": 2,
		"IsPeakHour": 1,
		"LaneID": 0,
		"LaneType": 1,
		"Speed": 34,
		"Occupancy": 25,
		"Volume_M": 5,
		"Speed_M": 41,
		"Volume_S": 2,
		"Speed_S": 36,
		"Volume_L": 5,
		"Speed_L": 27,
		"Volume_T": 0,
		"Speed_T": 0
	},
	{
		"VD_ID": "VLRJM60",
		"DayOfWeek": 6,
		"Hour": 19,
		"Minute": 41,
		"Second": 2,
		"IsPeakHour": 1,
		"LaneID": 1,
		"LaneType": 1,
		"Speed": 38,
		"Occupancy": 20,
		"Volume_M": 5,
		"Speed_M": 41,
		"Volume_S": 2,
		"Speed_S": 36,
		"Volume_L": 1,
		"Speed_L": 27,
		"Volume_T": 0,
		"Speed_T": 0
	},
	{
		"VD_ID": "VLRJX00",
		"DayOfWeek": 6,
		"Hour": 19,
		"Minute": 41,
		"Second": 2,
		"IsPeakHour": 1,
		"LaneID": 2,
		"LaneType": 1,
		"Speed": 37,
		"Occupancy": 25,
		"Volume_M": 5,
		"Speed_M": 41,
		"Volume_S": 5,
		"Speed_S": 36,
		"Volume_L": 1,
		"Speed_L": 27,
		"Volume_T": 0,
		"Speed_T": 0
	},
	{
		"VD_ID": "VLRJX00",
		"DayOfWeek": 6,
		"Hour": 19,
		"Minute": 41,
		"Second": 2,
		"IsPeakHour": 1,
		"LaneID": 3,
		"LaneType": 1,
		"Speed": 33,
		"Occupancy": 20,
		"Volume_M": 3,
		"Speed_M": 41,
		"Volume_S": 2,
		"Speed_S": 36,
		"Volume_L": 5,
		"Speed_L": 27,
		"Volume_T": 0,
		"Speed_T": 0
	}
]
```

---

# âœ… å·²å®Œæˆå¯¦ä½œçš„ Django è³‡æ–™åº«ç³»çµ±

## ğŸ¯ ç³»çµ±å®Œæˆç‹€æ…‹

âœ… **è³‡æ–™åº« Models å·²å»ºç«‹å®Œæˆ**

- Group æ¨¡å‹ï¼šæ‰¹æ¬¡è³‡æ–™ä¸»è¡¨
- Intersection æ¨¡å‹ï¼šè·¯å£æ˜ç´°è¡¨
- åŒ…å«å®Œæ•´çš„æ¬„ä½é©—è­‰å’Œä¸­æ–‡é¡¯ç¤º

âœ… **Django Admin ç®¡ç†ä»‹é¢å·²é…ç½®**

- å®Œæ•´çš„è³‡æ–™ç®¡ç†åŠŸèƒ½
- æ”¯æ´æœå°‹ã€ç¯©é¸ã€åˆ†é 
- å…§åµŒç·¨è¼¯åŠŸèƒ½

âœ… **API ç«¯é»å·²å¯¦ä½œ**

- `/api/predict/`: æ¥æ”¶è³‡æ–™ä¸¦é æ¸¬
- `/api/data/`: æŸ¥è©¢å·²å„²å­˜çš„è³‡æ–™

âœ… **è³‡æ–™è™•ç†å·¥å…·å·²å»ºç«‹**

- TrafficDataManager: è³‡æ–™ç®¡ç†å·¥å…·é¡åˆ¥
- TrafficDataValidator: è³‡æ–™é©—è­‰å·¥å…·

âœ… **æ¸¬è©¦å·¥å…·å·²æä¾›**

- Django management command
- API æ¸¬è©¦è…³æœ¬

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨

```bash
cd "d:\01.Project\traffic\traffic_project\backend\traffic_env\traffic"
D:/01.Project/traffic/traffic_project/backend/traffic_env/Scripts/python.exe manage.py runserver
```

### 2. è¨ªå•ç®¡ç†ä»‹é¢

- ç¶²å€ï¼šhttp://localhost:8000/admin
- éœ€è¦å…ˆå»ºç«‹è¶…ç´šä½¿ç”¨è€…ï¼š

```bash
D:/01.Project/traffic/traffic_project/backend/traffic_env/Scripts/python.exe manage.py createsuperuser
```

### 3. æ¸¬è©¦ API åŠŸèƒ½

- é æ¸¬ APIï¼šhttp://localhost:8000/api/predict/
- æŸ¥è©¢ APIï¼šhttp://localhost:8000/api/data/

### 4. å»ºç«‹æ¸¬è©¦è³‡æ–™

```bash
D:/01.Project/traffic/traffic_project/backend/traffic_env/Scripts/python.exe manage.py test_traffic_data --create-sample --show-stats
```

## ğŸ“Š è³‡æ–™è¡¨çµæ§‹è©³ç´°èªªæ˜

### Groupï¼ˆè³‡æ–™çµ„ä¸»è¡¨ï¼‰

| æ¬„ä½åç¨±            | è³‡æ–™å‹æ…‹      | æè¿°                                     |
| ------------------- | ------------- | ---------------------------------------- |
| id                  | BigAutoField  | ä¸»éµï¼Œè‡ªå‹•ç”Ÿæˆçš„å”¯ä¸€è­˜åˆ¥ç¢¼               |
| group_id            | UUIDField     | æ‰¹æ¬¡å”¯ä¸€è­˜åˆ¥ç¢¼ï¼Œä¸€çµ„å››è·¯å£è³‡æ–™æ­¸ç‚ºåŒä¸€æ‰¹ |
| timestamp           | DateTimeField | è³‡æ–™æ¥æ”¶æˆ–é æ¸¬æ™‚é–“                       |
| east_west_seconds   | IntegerField  | æ¨¡å‹é æ¸¬çš„æ±è¥¿å‘æœ€å¤§ç¶ ç‡ˆç§’æ•¸             |
| south_north_seconds | IntegerField  | æ¨¡å‹é æ¸¬çš„å—åŒ—å‘æœ€å¤§ç¶ ç‡ˆç§’æ•¸             |

### Intersectionï¼ˆè·¯å£æ˜ç´°è¡¨ï¼‰

| æ¬„ä½åç¨±   | è³‡æ–™å‹æ…‹      | æè¿°                         |
| ---------- | ------------- | ---------------------------- |
| id         | BigAutoField  | ä¸»éµï¼Œè‡ªå‹•ç”Ÿæˆ               |
| group      | ForeignKey    | é—œè¯åˆ° Group è¡¨çš„ group_id   |
| VD_ID      | CharField     | è·¯å£åµæ¸¬å™¨ IDï¼ˆæœ‰é¸æ“‡é™åˆ¶ï¼‰  |
| DayOfWeek  | IntegerField  | æ˜ŸæœŸ (1=æ˜ŸæœŸä¸€ ... 7=æ˜ŸæœŸæ—¥) |
| Hour       | IntegerField  | æ™‚ (0-23)                    |
| Minute     | IntegerField  | åˆ† (0-59)                    |
| Second     | IntegerField  | ç§’ (0-59)                    |
| IsPeakHour | BooleanField  | æ˜¯å¦å°–å³°æ™‚æ®µ                 |
| LaneID     | IntegerField  | è»Šé“ç·¨è™Ÿ                     |
| LaneType   | IntegerField  | è»Šé“é¡å‹                     |
| Speed      | FloatField    | å¹³å‡é€Ÿç‡                     |
| Occupancy  | FloatField    | è»Šé“ä½”æœ‰ç‡                   |
| Volume_M   | IntegerField  | ä¸­å‹è»Šæµé‡                   |
| Speed_M    | FloatField    | ä¸­å‹è»Šé€Ÿç‡                   |
| Volume_S   | IntegerField  | å°å‹è»Šæµé‡                   |
| Speed_S    | FloatField    | å°å‹è»Šé€Ÿç‡                   |
| Volume_L   | IntegerField  | å¤§å‹è»Šæµé‡                   |
| Speed_L    | FloatField    | å¤§å‹è»Šé€Ÿç‡                   |
| Volume_T   | IntegerField  | ç‰¹ç¨®è»Šæµé‡ï¼ˆé è¨­ 0ï¼‰         |
| Speed_T    | FloatField    | ç‰¹ç¨®è»Šé€Ÿç‡ï¼ˆé è¨­ 0.0ï¼‰       |
| created_at | DateTimeField | å»ºç«‹æ™‚é–“                     |

## ğŸ”§ ç‰¹è‰²åŠŸèƒ½

### 1. è‡ªå‹•ç”¢ç”Ÿæ‰¹æ¬¡ ID

- æ¯æ¬¡ API å‘¼å«è‡ªå‹•ç”¢ç”Ÿå”¯ä¸€çš„ UUID
- æ–¹ä¾¿è¿½è¹¤å’ŒæŸ¥è©¢ç‰¹å®šæ‰¹æ¬¡çš„è³‡æ–™

### 2. è³‡æ–™é©—è­‰

- å®Œæ•´çš„æ¬„ä½é©—è­‰æ©Ÿåˆ¶
- æ”¯æ´ VD_ID é¸æ“‡é™åˆ¶
- æ™‚é–“å’Œæ•¸å€¼ç¯„åœæª¢æŸ¥

### 3. ä¸­æ–‡åŒ–ä»‹é¢

- Django Admin å®Œå…¨ä¸­æ–‡åŒ–
- æ¬„ä½èªªæ˜å’ŒéŒ¯èª¤è¨Šæ¯éƒ½æœ‰ä¸­æ–‡é¡¯ç¤º

### 4. é—œè¯æŸ¥è©¢

- Group å’Œ Intersection ä¹‹é–“æœ‰å®Œæ•´çš„å¤–éµé—œè¯
- æ”¯æ´åå‘æŸ¥è©¢å’Œèšåˆçµ±è¨ˆ

### 5. ä¾¿åˆ©çš„å±¬æ€§æ–¹æ³•

- `get_direction_display`: å–å¾—æ–¹å‘ä¸­æ–‡é¡¯ç¤º
- `total_volume`: è¨ˆç®—ç¸½è»Šæµé‡

## ğŸ“– ç¨‹å¼åŒ–æ“ä½œç¯„ä¾‹

### å»ºç«‹è³‡æ–™

```python
from traffic_signal.data_utils import TrafficDataManager

# å»ºç«‹ä¸€æ‰¹äº¤é€šè³‡æ–™
group = TrafficDataManager.create_traffic_batch(
    traffic_data,  # å››ç­†è·¯å£è³‡æ–™çš„åˆ—è¡¨
    east_west_seconds=75,
    south_north_seconds=65
)
```

### æŸ¥è©¢è³‡æ–™

```python
# æŸ¥è©¢ç‰¹å®šæ‰¹æ¬¡
batch_data = TrafficDataManager.get_traffic_batch(str(group.group_id))

# å–å¾—æœ€è¿‘çš„æ‰¹æ¬¡
recent_batches = TrafficDataManager.get_recent_batches(limit=10)

# çµ±è¨ˆè³‡è¨Š
stats = TrafficDataManager.get_statistics()
```

### è³‡æ–™é©—è­‰

```python
from traffic_signal.data_utils import TrafficDataValidator

# é©—è­‰æ•´æ‰¹è³‡æ–™
errors = TrafficDataValidator.validate_batch_data(traffic_data)
if errors:
    print("é©—è­‰å¤±æ•—:", errors)
```

---

## ğŸ“ ç›¸é—œæª”æ¡ˆ

- `models.py`: Django è³‡æ–™æ¨¡å‹å®šç¾©
- `admin.py`: Django Admin ç®¡ç†ä»‹é¢é…ç½®
- `views.py`: API è¦–åœ–å¯¦ä½œ
- `data_utils.py`: è³‡æ–™è™•ç†å·¥å…·é¡åˆ¥
- `test_traffic_data.py`: Django management command
- `test_api.py`: API æ¸¬è©¦è…³æœ¬
- `README_database.md`: è©³ç´°èªªæ˜æ–‡ä»¶

## ğŸ” è³‡æ–™åº«æª”æ¡ˆä½ç½®

SQLite è³‡æ–™åº«æª”æ¡ˆï¼š`d:\01.Project\traffic\traffic_project\backend\traffic_env\traffic\db.sqlite3`

å¯ä½¿ç”¨ DB Browser for SQLite ç­‰å·¥å…·ç›´æ¥æŸ¥çœ‹è³‡æ–™åº«å…§å®¹ã€‚

---

**âœ¨ ç³»çµ±å·²å®Œå…¨å¯¦ä½œå®Œæˆï¼Œå¯ä»¥ç«‹å³æŠ•å…¥ä½¿ç”¨ï¼**

---

# SQLite è³‡æ–™åº«è¨­è¨ˆæ–‡ä»¶ï¼ˆDjango é©ç”¨ï¼‰

## 1. è³‡æ–™çµ„ä¸»è¡¨ï¼ˆGroupï¼‰

| æ¬„ä½åç¨±            | è³‡æ–™å‹æ…‹       | æè¿°                                     |
| ------------------- | -------------- | ---------------------------------------- |
| id                  | æ•´æ•¸ï¼Œè‡ªå‹•ä¸»éµ | ä¸»éµï¼Œè‡ªå‹•ç”Ÿæˆçš„å”¯ä¸€è­˜åˆ¥ç¢¼               |
| group_id            | UUID å­—ä¸²      | æ‰¹æ¬¡å”¯ä¸€è­˜åˆ¥ç¢¼ï¼Œä¸€çµ„å››è·¯å£è³‡æ–™æ­¸ç‚ºåŒä¸€æ‰¹ |
| timestamp           | DateTime       | è³‡æ–™æ¥æ”¶æˆ–é æ¸¬æ™‚é–“                       |
| east_west_seconds   | æ•´æ•¸           | æ¨¡å‹é æ¸¬çš„æ±è¥¿å‘æœ€å¤§ç¶ ç‡ˆç§’æ•¸             |
| south_north_seconds | æ•´æ•¸           | æ¨¡å‹é æ¸¬çš„å—åŒ—å‘æœ€å¤§ç¶ ç‡ˆç§’æ•¸             |

- æ­¤è¡¨ç”¨ä»¥å„²å­˜ä¸€æ¬¡å‰ç«¯æ‰¹æ¬¡é€ä¾†çš„å››è·¯å£è³‡æ–™çš„ã€Œæ•´é«”æ‰¹æ¬¡ã€è³‡è¨Šã€‚
- group_id ç‚ºæ¯æ‰¹è³‡æ–™çš„å”¯ä¸€è­˜åˆ¥ï¼Œæ–¹ä¾¿å‰ç«¯è¦–è¦ºåŒ–åŠå¾ŒçºŒè³‡æ–™æŸ¥è©¢ã€‚

---

## 2. è·¯å£æ˜ç´°è¡¨ï¼ˆIntersectionï¼‰

| æ¬„ä½åç¨±   | è³‡æ–™å‹æ…‹       | æè¿°                         |
| ---------- | -------------- | ---------------------------- |
| id         | æ•´æ•¸ï¼Œè‡ªå‹•ä¸»éµ | ä¸»éµï¼Œè‡ªå‹•ç”Ÿæˆ               |
| group      | ForeignKey     | é—œè¯åˆ° Group è¡¨çš„ group_id   |
| VD_ID      | å­—ä¸²           | è·¯å£åµæ¸¬å™¨ ID                |
| DayOfWeek  | æ•´æ•¸           | æ˜ŸæœŸ (1=æ˜ŸæœŸä¸€ ... 7=æ˜ŸæœŸæ—¥) |
| Hour       | æ•´æ•¸           | æ™‚                           |
| Minute     | æ•´æ•¸           | åˆ†                           |
| Second     | æ•´æ•¸           | ç§’                           |
| IsPeakHour | å¸ƒæ—           | æ˜¯å¦å°–å³°æ™‚æ®µ                 |
| LaneID     | æ•´æ•¸           | è»Šé“ç·¨è™Ÿ                     |
| LaneType   | æ•´æ•¸           | è»Šé“é¡å‹                     |
| Speed      | æµ®é»æ•¸         | å¹³å‡é€Ÿç‡                     |
| Occupancy  | æµ®é»æ•¸         | è»Šé“ä½”æœ‰ç‡                   |
| Volume_M   | æ•´æ•¸           | ä¸­å‹è»Šæµé‡                   |
| Speed_M    | æµ®é»æ•¸         | ä¸­å‹è»Šé€Ÿç‡                   |
| Volume_S   | æ•´æ•¸           | å°å‹è»Šæµé‡                   |
| Speed_S    | æµ®é»æ•¸         | å°å‹è»Šé€Ÿç‡                   |
| Volume_L   | æ•´æ•¸           | å¤§å‹è»Šæµé‡                   |
| Speed_L    | æµ®é»æ•¸         | å¤§å‹è»Šé€Ÿç‡                   |
| Volume_T   | æ•´æ•¸           | ç‰¹ç¨®è»Šæµé‡ï¼ˆå¯é¸ï¼‰           |
| Speed_T    | æµ®é»æ•¸         | ç‰¹ç¨®è»Šé€Ÿç‡ï¼ˆå¯é¸ï¼‰           |

---

åœ¨ Django ä¸­ï¼Œå­˜å…¥çš„è³‡æ–™åº«è³‡æ–™å¯é€éä»¥ä¸‹æ–¹å¼æŸ¥è©¢èˆ‡ç®¡ç†ï¼š

## 1. Django Admin ç®¡ç†ä»‹é¢

- å•Ÿç”¨ Django å…§å»ºçš„ Admin åŠŸèƒ½ï¼Œå°æ‡‰çš„ Model æœƒè‡ªå‹•æœ‰è³‡æ–™ç®¡ç†é é¢ã€‚
- é€éç€è¦½å™¨è¨ªå• `/admin`ï¼ˆå¦‚ http://localhost:8000/adminï¼‰ç™»å…¥å¾Œï¼Œå³å¯ç€è¦½ã€æœå°‹ã€ç·¨è¼¯ã€åˆªé™¤è³‡æ–™ã€‚
- éœ€å…ˆæ–¼ `admin.py` è¨»å†Šä½ çš„ Modelï¼Œä¾‹å¦‚ï¼š

  ```python
  from django.contrib import admin
  from .models import Group, Intersection

  admin.site.register(Group)
  admin.site.register(Intersection)
  ```

## 2. Django shell (äº’å‹•å‘½ä»¤åˆ—)

- å¯ä»¥é€éå‘½ä»¤ `python manage.py shell` é€²å…¥äº’å‹•æ¨¡å¼æŸ¥è©¢ã€‚
- ä¾‹å¦‚æŸ¥è©¢æ‰€æœ‰ Groupï¼š
  ```python
  from yourapp.models import Group
  groups = Group.objects.all()
  print(groups)
  ```
- æŸ¥è©¢ç‰¹å®š group ç›¸é—œçš„è·¯å£æ˜ç´°ï¼š
  ```python
  group = Group.objects.first()
  intersections = group.intersections.all()
  print(intersections)
  ```

## 3. åœ¨ Django è¦–åœ–ä¸­æ“ä½œ

- ä½¿ç”¨ Django ORM åœ¨ viewã€API æˆ–å‘½ä»¤ä¸­æŸ¥è©¢ï¼Œå¦‚ï¼š

  ```python
  from yourapp.models import Group

  def view_function(request):
      data = Group.objects.filter(id=1)
      # å‚³çµ¦æ¨¡æ¿æˆ–å›å‚³ json
  ```

## è³‡æ–™åº«å¯¦éš›æª”æ¡ˆä½ç½®ï¼ˆSQLiteï¼‰

- SQLite çš„è³‡æ–™åº«æª”æ¡ˆé è¨­ç‚º `db.sqlite3`ï¼Œä½æ–¼ Django å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸­ï¼ˆèˆ‡ manage.py åŒç´šï¼‰
- å¯ç”¨ä»»ä½• SQLite å·¥å…·ï¼ˆå¦‚ DB Browser for SQLiteï¼‰æ‰“é–‹æ­¤æª”æ¡ˆæŸ¥çœ‹èˆ‡ç·¨è¼¯è³‡æ–™ã€‚

---

ç¸½çµï¼š

- åœ¨ç€è¦½å™¨ç”¨ Django Admin ä»‹é¢æœ€ç›´è¦ºã€‚
- é–‹ç™¼è€…å¯ç”¨ Django shell æˆ– ORM è‡ªè¨‚æŸ¥è©¢ã€‚
- SQLite æª”æ¡ˆä½æ–¼å°ˆæ¡ˆç›®éŒ„ä¸‹çš„ `db.sqlite3`ï¼Œå¯ç”¨é€šç”¨å·¥å…·ç®¡ç†ã€‚
